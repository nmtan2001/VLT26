<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Knew you would say yes!</title>
    <link rel="stylesheet" href="./yes_style.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body>
    <canvas id="yes-hearts-canvas"></canvas>
    <div class="container">
        <h1 class="header_text">Knew you would say yes!</h1>
        <div class="gif_container">
            <img src="https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExMmo3c3l5ODh3ZGN6NHhhaDE2Mjg1ZjkwOXczdDFxbWM3dTBtaW9zaiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/9XY4f3FgFTT4QlaYqa/giphy.gif">
        </div>
    </div>
    <script>
        window.addEventListener('DOMContentLoaded', () => {
            const duration = 3000;
            const animationEnd = Date.now() + duration;
            const defaults = {
                startVelocity: 30,
                spread: 360,
                ticks: 60,
                zIndex: 9999
            };

            const randomInRange = (min, max) => Math.random() * (max - min) + min;

            const interval = setInterval(() => {
                const timeLeft = animationEnd - Date.now();
                if (timeLeft <= 0) {
                    return clearInterval(interval);
                }

                const particleCount = 50 * (timeLeft / duration);

                confetti({
                    ...defaults,
                    particleCount,
                    origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 },
                    colors: ['#FF6B9D', '#FF8EBA', '#FFB6C1', '#FFC0CB'],
                    shapes: ['circle'],
                    scalar: randomInRange(0.4, 0.8)
                });

                confetti({
                    ...defaults,
                    particleCount,
                    origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 },
                    colors: ['#FF6B9D', '#FF8EBA', '#FFB6C1', '#FFC0CB'],
                    shapes: ['circle'],
                    scalar: randomInRange(0.4, 0.8)
                });
            }, 250);

            const heartPositions = [
                { left: '10%', top: '20%', delay: '0s' },
                { left: '85%', top: '15%', delay: '1s' },
                { left: '5%', top: '60%', delay: '2s' },
                { left: '90%', top: '70%', delay: '0.5s' },
                { right: '15%', top: '40%', delay: '1.5s' },
                { right: '8%', top: '80%', delay: '2.5s' },
                { left: '15%', top: '85%', delay: '3s' },
                { right: '5%', top: '30%', delay: '0.8s' }
            ];

            const isMobile = window.innerWidth < 768;
            const heartsToShow = isMobile ? 3 : 8;

            for (let i = 0; i < heartsToShow; i++) {
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                heart.textContent = '';
                const pos = heartPositions[i];
                Object.assign(heart.style, {
                    left: pos.left,
                    right: pos.right,
                    top: pos.top,
                    animationDelay: pos.delay
                });
                document.body.appendChild(heart);
            }
        });
    </script>
</body>
</html>
